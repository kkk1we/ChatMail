{"ast":null,"code":"var _jsxFileName = \"D:\\\\MailChat\\\\ChatMail\\\\frontend\\\\src\\\\components\\\\EmailList.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from 'react';\nimport axios from 'axios';\nimport { useEditor, EditorContent } from '@tiptap/react';\nimport StarterKit from '@tiptap/starter-kit';\nimport './EmailList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction cleanBody(html) {\n  if (!html || typeof html !== 'string') return '';\n  return html.replace(/<style[^>]*>[\\s\\S]*?<\\/style>/gi, '').replace(/<script[^>]*>[\\s\\S]*?<\\/script>/gi, '').replace(/<\\/?(html|head|body|meta|title|link)[^>]*>/gi, '').replace(/<div[^>]+class=\"gmail_quote\"[^>]*>[\\s\\S]*$/gi, '').replace(/<blockquote[^>]*>[\\s\\S]*?<\\/blockquote>/gi, '').replace(/&nbsp;/g, ' ').replace(/\\s{2,}/g, ' ').trim();\n}\nfunction getDateLabel(dateStr) {\n  const date = new Date(dateStr);\n  const today = new Date();\n  const yesterday = new Date();\n  yesterday.setDate(today.getDate() - 1);\n  if (date.toDateString() === today.toDateString()) return 'Today';\n  if (date.toDateString() === yesterday.toDateString()) return 'Yesterday';\n  return date.toLocaleDateString(undefined, {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    weekday: 'long'\n  });\n}\nexport default function EmailList({\n  token\n}) {\n  _s();\n  const [showPreview, setShowPreview] = useState(false);\n  const [profile, setProfile] = useState(null);\n  const [threads, setThreads] = useState([]);\n  const [expandedThreadId, setExpandedThreadId] = useState(null);\n  const [search, setSearch] = useState('');\n  const [threadSearch, setThreadSearch] = useState('');\n  const [userEmail, setUserEmail] = useState('');\n  const [pendingReplyMeta, setPendingReplyMeta] = useState(null);\n  const [attachments, setAttachments] = useState([]);\n  const [followEmails, setFollowEmails] = useState([]); // List of followed emails\n  const [emailInput, setEmailInput] = useState('');\n  const editor = useEditor({\n    extensions: [StarterKit],\n    editorProps: {\n      handleKeyDown(view, event) {\n        if (event.key === 'Tab') {\n          event.preventDefault();\n          view.dispatch(view.state.tr.insertText('    ') // inserts 4 spaces as indent\n          );\n          return true;\n        }\n        return false;\n      }\n    },\n    content: ''\n  });\n  const getReplyText = () => (editor === null || editor === void 0 ? void 0 : editor.getHTML()) || '';\n  const setReplyText = html => editor === null || editor === void 0 ? void 0 : editor.commands.setContent(html);\n\n  // useEffect(() => {\n  //   const fetchEmails = async () => {\n  //     try {\n  //       const meRes = await axios.get('http://localhost:5000/api/me', { withCredentials: true });\n  //       setUserEmail(meRes.data.email);\n  //       const sender = 'alex.lee.chua.boy@gmail.com';\n  //       const encodedSender = encodeURIComponent(sender);\n\n  //       const res = await axios.get(`http://localhost:5000/api/emails/from/${encodedSender}`, {\n  //         withCredentials: true\n  //       });\n  //       setThreads(res.data);\n\n  //     } catch (error) {\n  //       if (error.response?.status === 401) {\n  //         console.warn('❌ Not authenticated, redirecting...');\n  //         window.location.href = '/';\n  //       } else {\n  //         console.error('❌ Email fetch failed:', error.response?.data || error.message);\n  //       }\n  //     }\n  //   };\n\n  //   fetchEmails();\n  // }, []);\n  useEffect(() => {\n    const fetchEmails = async () => {\n      try {\n        const res = await axios.post('http://localhost:5000/api/emails/followed', {\n          senders: followEmails\n        });\n        setThreads(res.data);\n      } catch (error) {\n        var _error$response;\n        console.error('❌ Email fetch failed:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      }\n    };\n    if (followEmails.length > 0) {\n      fetchEmails();\n    }\n  }, [followEmails]);\n  const handleAddEmail = () => {\n    if (emailInput && !followEmails.includes(emailInput)) {\n      setFollowEmails(prev => [...prev, emailInput]);\n      setEmailInput('');\n    }\n  };\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const res = await axios.get('http://localhost:5000/api/profile', {\n          withCredentials: true\n        });\n        setProfile(res.data);\n      } catch (err) {\n        console.error('❌ Failed to load profile:', err.message);\n      }\n    };\n    fetchProfile();\n  }, []);\n  const toggleThread = id => {\n    setExpandedThreadId(expandedThreadId === id ? null : id);\n    setThreadSearch('');\n    setReplyText('');\n  };\n  const getInitials = from => {\n    const name = from.split('<')[0].trim();\n    return name.split(' ').map(word => word[0]).join('').slice(0, 2).toUpperCase();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"email-list\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Follow Email Threads\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter email to follow\",\n      value: emailInput,\n      onChange: e => setEmailInput(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleAddEmail,\n      children: \"Follow\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Followed Emails\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: followEmails.map((email, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: email\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Search threads\",\n      value: search,\n      onChange: e => setSearch(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: filteredThreads.map(thread => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: thread.subject\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this), thread.messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: msg.from\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            dangerouslySetInnerHTML: {\n              __html: cleanBody(msg.body)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 15\n        }, this))]\n      }, thread.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n  const appendLocalReply = (threadId, message) => {\n    setThreads(prev => prev.map(t => {\n      if (t.id !== threadId) return t;\n      return {\n        ...t,\n        messages: [...t.messages, message]\n      };\n    }));\n  };\n  const sendReply = async (threadId, to, subject, isDraft) => {\n    const html = getReplyText();\n    try {\n      await axios.post('http://localhost:5000/api/reply', {\n        threadId,\n        to,\n        subject,\n        message: html,\n        draft: isDraft\n      }, {\n        withCredentials: true\n      });\n      appendLocalReply(threadId, {\n        from: userEmail,\n        subject,\n        date: new Date().toISOString(),\n        body: html\n      });\n      if (isDraft) {\n        alert('✅ Draft saved!');\n      } else {\n        alert('✅ Reply sent!');\n      }\n      setReplyText('');\n    } catch (err) {\n      console.error('❌ Reply failed:', err);\n      alert('Failed to send reply.');\n    }\n  };\n  const filteredThreads = threads.filter(thread => {\n    var _thread$subject, _thread$messages;\n    return ((_thread$subject = thread.subject) === null || _thread$subject === void 0 ? void 0 : _thread$subject.toLowerCase().includes(search.toLowerCase())) || ((_thread$messages = thread.messages) === null || _thread$messages === void 0 ? void 0 : _thread$messages.some(msg => {\n      var _msg$from, _msg$body;\n      return ((_msg$from = msg.from) === null || _msg$from === void 0 ? void 0 : _msg$from.toLowerCase().includes(search.toLowerCase())) || ((_msg$body = msg.body) === null || _msg$body === void 0 ? void 0 : _msg$body.toLowerCase().includes(search.toLowerCase()));\n    }));\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"email-list\",\n    style: {\n      padding: '20px',\n      fontFamily: 'Arial, sans-serif'\n    },\n    children: [profile && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        marginBottom: '20px',\n        padding: '10px',\n        backgroundColor: '#f0f0f0',\n        borderRadius: '8px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: profile.picture,\n        alt: \"avatar\",\n        style: {\n          borderRadius: '50%',\n          width: 40,\n          height: 40,\n          marginRight: 12\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: profile.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '0.9em',\n            color: '#666'\n          },\n          children: profile.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\uD83D\\uDD0D Search all threads...\",\n      value: search,\n      onChange: e => setSearch(e.target.value),\n      style: {\n        padding: '10px',\n        width: '100%',\n        marginBottom: '20px',\n        borderRadius: '8px',\n        border: '1px solid #ccc'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this), filteredThreads.length > 0 ? filteredThreads.map(thread => {\n      const expanded = expandedThreadId === thread.id;\n      const filteredMsgs = thread.messages.filter(msg => msg.from.toLowerCase().includes(threadSearch.toLowerCase()) || msg.body.toLowerCase().includes(threadSearch.toLowerCase()));\n      let lastDateLabel = '';\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `email-thread ${expanded ? 'expanded' : ''}`,\n        style: {\n          border: '2px solid #ccc',\n          borderRadius: '10px',\n          padding: '15px',\n          marginBottom: '25px',\n          backgroundColor: '#fafafa',\n          boxShadow: '0 2px 6px rgba(0,0,0,0.05)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            cursor: 'pointer',\n            color: '#333'\n          },\n          onClick: () => toggleThread(thread.id),\n          children: [\"\\uD83D\\uDCEC \", thread.subject || '(no subject)']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 15\n        }, this), expanded && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search in this thread...\",\n            value: threadSearch,\n            onChange: e => setThreadSearch(e.target.value),\n            style: {\n              padding: '8px',\n              width: '100%',\n              marginBottom: '10px',\n              borderRadius: '6px',\n              border: '1px solid #aaa'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              maxHeight: '400px',\n              overflowY: 'auto',\n              paddingRight: '10px'\n            },\n            children: filteredMsgs.map((msg, i) => {\n              const dateLabel = getDateLabel(msg.date);\n              const showDateLabel = dateLabel !== lastDateLabel;\n              lastDateLabel = dateLabel;\n              const isMe = msg.from.includes(userEmail);\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'column'\n                },\n                children: [showDateLabel && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    textAlign: 'center',\n                    margin: '15px 0 5px',\n                    color: '#666',\n                    fontSize: '0.85em',\n                    fontWeight: 'bold'\n                  },\n                  children: [\"\\u2500\\u2500 \", dateLabel, \" \\u2500\\u2500\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message\",\n                  style: {\n                    display: 'flex',\n                    flexDirection: isMe ? 'row-reverse' : 'row',\n                    alignSelf: isMe ? 'flex-end' : 'flex-start',\n                    maxWidth: '75%',\n                    backgroundColor: isMe ? '#dcf8c6' : '#fff',\n                    padding: '10px',\n                    borderRadius: '10px',\n                    margin: '5px 0',\n                    border: isMe ? '1px solid #a2d5a2' : '1px solid #ccc',\n                    boxShadow: '0 1px 3px rgba(0,0,0,0.05)',\n                    textAlign: isMe ? 'right' : 'left'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"avatar\",\n                    style: {\n                      backgroundColor: isMe ? '#4caf50' : '#888',\n                      color: '#fff',\n                      borderRadius: '50%',\n                      width: '36px',\n                      height: '36px',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontWeight: 'bold',\n                      fontSize: '0.9em',\n                      margin: isMe ? '0 0 0 10px' : '0 10px 0 0'\n                    },\n                    children: isMe ? 'You' : getInitials(msg.from)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      flex: 1\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontWeight: 'bold'\n                      },\n                      children: isMe ? 'You' : msg.from\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"email-body\",\n                      style: {\n                        marginTop: '6px',\n                        marginBottom: '8px'\n                      },\n                      dangerouslySetInnerHTML: {\n                        __html: cleanBody(msg.body)\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontSize: '0.8em',\n                        color: '#888'\n                      },\n                      children: new Date(msg.date).toLocaleString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 322,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 27\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 25\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '10px'\n            },\n            children: [editor && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: '8px',\n                display: 'flex',\n                gap: '8px',\n                flexWrap: 'wrap'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => editor.chain().focus().toggleBold().run(),\n                className: editor.isActive('bold') ? 'active' : '',\n                title: \"Bold\",\n                \"aria-label\": \"Bold\",\n                style: {\n                  fontWeight: 'bold'\n                },\n                children: \"B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => editor.chain().focus().toggleItalic().run(),\n                style: {\n                  fontStyle: 'italic'\n                },\n                children: \"I\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => editor.chain().focus().toggleStrike().run(),\n                style: {\n                  textDecoration: 'line-through'\n                },\n                children: \"S\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => editor.chain().focus().setParagraph().run(),\n                children: \"P\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => editor.chain().focus().toggleHeading({\n                  level: 1\n                }).run(),\n                children: \"H1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => editor.chain().focus().toggleHeading({\n                  level: 2\n                }).run(),\n                children: \"H2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => editor.chain().focus().toggleBulletList().run(),\n                children: \"\\u2022 List\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => editor.chain().focus().toggleOrderedList().run(),\n                children: \"1. List\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => editor.chain().focus().undo().run(),\n                children: \"\\u21BA Undo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => editor.chain().focus().redo().run(),\n                children: \"\\u21BB Redo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(EditorContent, {\n              editor: editor,\n              className: \"tiptap-editor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                margin: '10px 0'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: '0.9em',\n                  fontWeight: 'bold'\n                },\n                children: [\"\\uD83D\\uDCCE Attach files:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  multiple: true,\n                  onChange: e => {\n                    const newFiles = Array.from(e.target.files || []);\n                    setAttachments(prev => [...prev, ...newFiles]);\n                  },\n                  style: {\n                    display: 'block',\n                    marginTop: '6px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexWrap: 'wrap',\n                  marginTop: '10px',\n                  gap: '10px'\n                },\n                children: attachments.map((file, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    border: '1px solid #ccc',\n                    borderRadius: '4px',\n                    padding: '4px 8px',\n                    background: '#f0f0f0'\n                  },\n                  children: [file.name, /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setAttachments(prev => prev.filter((_, i) => i !== index)),\n                    style: {\n                      marginLeft: '8px',\n                      color: 'red',\n                      background: 'none',\n                      border: 'none',\n                      cursor: 'pointer'\n                    },\n                    children: \"\\xD7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 29\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '10px',\n                marginTop: '5px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => sendReply(thread.id, thread.messages[0].from, thread.subject, false),\n                style: {\n                  padding: '8px 16px',\n                  backgroundColor: '#4caf50',\n                  color: '#fff',\n                  border: 'none',\n                  borderRadius: '6px',\n                  cursor: 'pointer'\n                },\n                children: \"Send\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setPendingReplyMeta({\n                    threadId: thread.id,\n                    to: thread.messages[0].from,\n                    subject: thread.subject\n                  });\n                  setShowPreview(true);\n                },\n                style: {\n                  padding: '8px 16px',\n                  backgroundColor: '#2196f3',\n                  color: '#fff',\n                  border: 'none',\n                  borderRadius: '6px',\n                  cursor: 'pointer'\n                },\n                children: \"Preview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 17\n        }, this)]\n      }, thread.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 13\n      }, this);\n    }) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\uD83D\\uDCE8 Loading emails...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 9\n    }, this), showPreview && pendingReplyMeta && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 50,\n        left: '10%',\n        width: '80%',\n        backgroundColor: 'white',\n        border: '1px solid #ccc',\n        padding: '20px',\n        borderRadius: '10px',\n        zIndex: 1000,\n        boxShadow: '0 4px 8px rgba(0,0,0,0.2)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDCE8 Preview Your Reply\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: getReplyText()\n        },\n        style: {\n          padding: '10px',\n          border: '1px solid #eee'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '10px',\n          textAlign: 'right'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowPreview(false),\n          style: {\n            marginRight: '10px'\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            sendReply(pendingReplyMeta.threadId, pendingReplyMeta.to, pendingReplyMeta.subject, false);\n            setShowPreview(false);\n            setPendingReplyMeta(null);\n          },\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 237,\n    columnNumber: 5\n  }, this);\n}\n_s(EmailList, \"D0v1LnQ8cro6cGu4CZ0SZt6PJmQ=\", false, function () {\n  return [useEditor];\n});\n_c = EmailList;\nvar _c;\n$RefreshReg$(_c, \"EmailList\");","map":{"version":3,"names":["useEffect","useState","useRef","axios","useEditor","EditorContent","StarterKit","jsxDEV","_jsxDEV","cleanBody","html","replace","trim","getDateLabel","dateStr","date","Date","today","yesterday","setDate","getDate","toDateString","toLocaleDateString","undefined","year","month","day","weekday","EmailList","token","_s","showPreview","setShowPreview","profile","setProfile","threads","setThreads","expandedThreadId","setExpandedThreadId","search","setSearch","threadSearch","setThreadSearch","userEmail","setUserEmail","pendingReplyMeta","setPendingReplyMeta","attachments","setAttachments","followEmails","setFollowEmails","emailInput","setEmailInput","editor","extensions","editorProps","handleKeyDown","view","event","key","preventDefault","dispatch","state","tr","insertText","content","getReplyText","getHTML","setReplyText","commands","setContent","fetchEmails","res","post","senders","data","error","_error$response","console","response","message","length","handleAddEmail","includes","prev","fetchProfile","get","withCredentials","err","toggleThread","id","getInitials","from","name","split","map","word","join","slice","toUpperCase","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","email","index","filteredThreads","thread","subject","messages","msg","dangerouslySetInnerHTML","__html","body","appendLocalReply","threadId","t","sendReply","to","isDraft","draft","toISOString","alert","filter","_thread$subject","_thread$messages","toLowerCase","some","_msg$from","_msg$body","style","padding","fontFamily","display","alignItems","marginBottom","backgroundColor","borderRadius","src","picture","alt","width","height","marginRight","fontSize","color","border","expanded","filteredMsgs","lastDateLabel","boxShadow","cursor","marginTop","maxHeight","overflowY","paddingRight","i","dateLabel","showDateLabel","isMe","flexDirection","textAlign","margin","fontWeight","alignSelf","maxWidth","justifyContent","flex","toLocaleString","gap","flexWrap","chain","focus","toggleBold","run","isActive","title","toggleItalic","fontStyle","toggleStrike","textDecoration","setParagraph","toggleHeading","level","toggleBulletList","toggleOrderedList","undo","redo","multiple","newFiles","Array","files","file","background","_","marginLeft","position","top","left","zIndex","_c","$RefreshReg$"],"sources":["D:/MailChat/ChatMail/frontend/src/components/EmailList.jsx"],"sourcesContent":["import { useEffect, useState, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { useEditor, EditorContent } from '@tiptap/react';\r\nimport StarterKit from '@tiptap/starter-kit';\r\nimport './EmailList.css';\r\n\r\nfunction cleanBody(html) {\r\n  if (!html || typeof html !== 'string') return '';\r\n  return html\r\n    .replace(/<style[^>]*>[\\s\\S]*?<\\/style>/gi, '')\r\n    .replace(/<script[^>]*>[\\s\\S]*?<\\/script>/gi, '')\r\n    .replace(/<\\/?(html|head|body|meta|title|link)[^>]*>/gi, '')\r\n    .replace(/<div[^>]+class=\"gmail_quote\"[^>]*>[\\s\\S]*$/gi, '')\r\n    .replace(/<blockquote[^>]*>[\\s\\S]*?<\\/blockquote>/gi, '')\r\n    .replace(/&nbsp;/g, ' ')\r\n    .replace(/\\s{2,}/g, ' ')\r\n    .trim();\r\n}\r\n\r\nfunction getDateLabel(dateStr) {\r\n  const date = new Date(dateStr);\r\n  const today = new Date();\r\n  const yesterday = new Date();\r\n  yesterday.setDate(today.getDate() - 1);\r\n\r\n  if (date.toDateString() === today.toDateString()) return 'Today';\r\n  if (date.toDateString() === yesterday.toDateString()) return 'Yesterday';\r\n  return date.toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: 'numeric', weekday: 'long' });\r\n}\r\n\r\nexport default function EmailList({ token }) {\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const [profile, setProfile] = useState(null);\r\n  const [threads, setThreads] = useState([]);\r\n  const [expandedThreadId, setExpandedThreadId] = useState(null);\r\n  const [search, setSearch] = useState('');\r\n  const [threadSearch, setThreadSearch] = useState('');\r\n  const [userEmail, setUserEmail] = useState('');\r\n  const [pendingReplyMeta, setPendingReplyMeta] = useState(null);\r\n  const [attachments, setAttachments] = useState([]);\r\n  const [followEmails, setFollowEmails] = useState([]);  // List of followed emails\r\n  const [emailInput, setEmailInput] = useState('');\r\n\r\n  \r\n  const editor = useEditor({\r\n    extensions: [StarterKit],\r\n    editorProps: {\r\n      handleKeyDown(view, event) {\r\n        if (event.key === 'Tab') {\r\n          event.preventDefault();\r\n          view.dispatch(\r\n            view.state.tr.insertText('    ') // inserts 4 spaces as indent\r\n          );\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n    },\r\n    content: '',\r\n  });\r\n\r\n  const getReplyText = () => editor?.getHTML() || '';\r\n  const setReplyText = (html) => editor?.commands.setContent(html);\r\n\r\n  // useEffect(() => {\r\n  //   const fetchEmails = async () => {\r\n  //     try {\r\n  //       const meRes = await axios.get('http://localhost:5000/api/me', { withCredentials: true });\r\n  //       setUserEmail(meRes.data.email);\r\n  //       const sender = 'alex.lee.chua.boy@gmail.com';\r\n  //       const encodedSender = encodeURIComponent(sender);\r\n        \r\n  //       const res = await axios.get(`http://localhost:5000/api/emails/from/${encodedSender}`, {\r\n  //         withCredentials: true\r\n  //       });\r\n  //       setThreads(res.data);\r\n\r\n  //     } catch (error) {\r\n  //       if (error.response?.status === 401) {\r\n  //         console.warn('❌ Not authenticated, redirecting...');\r\n  //         window.location.href = '/';\r\n  //       } else {\r\n  //         console.error('❌ Email fetch failed:', error.response?.data || error.message);\r\n  //       }\r\n  //     }\r\n  //   };\r\n\r\n  //   fetchEmails();\r\n  // }, []);\r\n  useEffect(() => {\r\n    const fetchEmails = async () => {\r\n      try {\r\n        const res = await axios.post('http://localhost:5000/api/emails/followed', {\r\n          senders: followEmails,\r\n        });\r\n        setThreads(res.data);\r\n      } catch (error) {\r\n        console.error('❌ Email fetch failed:', error.response?.data || error.message);\r\n      }\r\n    };\r\n\r\n    if (followEmails.length > 0) {\r\n      fetchEmails();\r\n    }\r\n  }, [followEmails]);\r\n  \r\n  const handleAddEmail = () => {\r\n    if (emailInput && !followEmails.includes(emailInput)) {\r\n      setFollowEmails((prev) => [...prev, emailInput]);\r\n      setEmailInput('');\r\n    }\r\n  };\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/profile', {\r\n          withCredentials: true,\r\n        });\r\n        setProfile(res.data);\r\n      } catch (err) {\r\n        console.error('❌ Failed to load profile:', err.message);\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n  }, []);\r\n  \r\n  const toggleThread = (id) => {\r\n    setExpandedThreadId(expandedThreadId === id ? null : id);\r\n    setThreadSearch('');\r\n    setReplyText('');\r\n  };\r\n\r\n  const getInitials = (from) => {\r\n    const name = from.split('<')[0].trim();\r\n    return name.split(' ').map(word => word[0]).join('').slice(0, 2).toUpperCase();\r\n  };\r\n  return (\r\n    <div className=\"email-list\">\r\n      <h1>Follow Email Threads</h1>\r\n      \r\n      {/* Add email input */}\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Enter email to follow\"\r\n        value={emailInput}\r\n        onChange={(e) => setEmailInput(e.target.value)}\r\n      />\r\n      <button onClick={handleAddEmail}>Follow</button>\r\n\r\n      <h2>Followed Emails</h2>\r\n      <ul>\r\n        {followEmails.map((email, index) => (\r\n          <li key={index}>{email}</li>\r\n        ))}\r\n      </ul>\r\n\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search threads\"\r\n        value={search}\r\n        onChange={(e) => setSearch(e.target.value)}\r\n      />\r\n\r\n      <div>\r\n        {filteredThreads.map((thread) => (\r\n          <div key={thread.id}>\r\n            <h3>{thread.subject}</h3>\r\n            {thread.messages.map((msg, index) => (\r\n              <div key={index}>\r\n                <div>{msg.from}</div>\r\n                <div dangerouslySetInnerHTML={{ __html: cleanBody(msg.body) }} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n  const appendLocalReply = (threadId, message) => {\r\n    setThreads((prev) =>\r\n      prev.map((t) => {\r\n        if (t.id !== threadId) return t;\r\n        return {\r\n          ...t,\r\n          messages: [...t.messages, message],\r\n        };\r\n      })\r\n    );\r\n  };\r\n\r\n  const sendReply = async (threadId, to, subject, isDraft) => {\r\n    const html = getReplyText();\r\n    try {\r\n      await axios.post('http://localhost:5000/api/reply', {\r\n        threadId,\r\n        to,\r\n        subject,\r\n        message: html,\r\n        draft: isDraft\r\n      }, { withCredentials: true });\r\n\r\n      appendLocalReply(threadId, {\r\n        from: userEmail,\r\n        subject,\r\n        date: new Date().toISOString(),\r\n        body: html,\r\n      });\r\n\r\n      if (isDraft) {\r\n        alert('✅ Draft saved!');\r\n      } else {\r\n        alert('✅ Reply sent!');\r\n      }\r\n\r\n      setReplyText('');\r\n    } catch (err) {\r\n      console.error('❌ Reply failed:', err);\r\n      alert('Failed to send reply.');\r\n    }\r\n  };\r\n\r\n  const filteredThreads = threads\r\n    .filter((thread) =>\r\n      thread.subject?.toLowerCase().includes(search.toLowerCase()) ||\r\n      thread.messages?.some(msg =>\r\n        msg.from?.toLowerCase().includes(search.toLowerCase()) ||\r\n        msg.body?.toLowerCase().includes(search.toLowerCase())\r\n      )\r\n    );\r\n\r\n\r\n  return (\r\n    <div className=\"email-list\" style={{ padding: '20px', fontFamily: 'Arial, sans-serif' }}>\r\n      {profile && (\r\n        <div style={{\r\n          display: 'flex', alignItems: 'center', marginBottom: '20px', padding: '10px',\r\n          backgroundColor: '#f0f0f0', borderRadius: '8px'\r\n        }}>\r\n          <img src={profile.picture} alt=\"avatar\" style={{ borderRadius: '50%', width: 40, height: 40, marginRight: 12 }} />\r\n          <div>\r\n            <div><strong>{profile.name}</strong></div>\r\n            <div style={{ fontSize: '0.9em', color: '#666' }}>{profile.email}</div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"🔍 Search all threads...\"\r\n        value={search}\r\n        onChange={(e) => setSearch(e.target.value)}\r\n        style={{ padding: '10px', width: '100%', marginBottom: '20px', borderRadius: '8px', border: '1px solid #ccc' }}\r\n      />\r\n\r\n      {filteredThreads.length > 0 ? (\r\n        filteredThreads.map((thread) => {\r\n          const expanded = expandedThreadId === thread.id;\r\n          const filteredMsgs = thread.messages.filter(msg =>\r\n            msg.from.toLowerCase().includes(threadSearch.toLowerCase()) ||\r\n            msg.body.toLowerCase().includes(threadSearch.toLowerCase())\r\n          );\r\n\r\n          let lastDateLabel = '';\r\n\r\n          return (\r\n            <div key={thread.id} className={`email-thread ${expanded ? 'expanded' : ''}`} style={{\r\n              border: '2px solid #ccc', borderRadius: '10px', padding: '15px', marginBottom: '25px',\r\n              backgroundColor: '#fafafa', boxShadow: '0 2px 6px rgba(0,0,0,0.05)'\r\n            }}>\r\n              <h3 style={{ cursor: 'pointer', color: '#333' }} onClick={() => toggleThread(thread.id)}>\r\n                📬 {thread.subject || '(no subject)'}\r\n              </h3>\r\n\r\n              {expanded && (\r\n                <div style={{ marginTop: '10px' }}>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search in this thread...\"\r\n                    value={threadSearch}\r\n                    onChange={(e) => setThreadSearch(e.target.value)}\r\n                    style={{ padding: '8px', width: '100%', marginBottom: '10px', borderRadius: '6px', border: '1px solid #aaa' }}\r\n                  />\r\n\r\n                  <div style={{ maxHeight: '400px', overflowY: 'auto', paddingRight: '10px' }}>\r\n                    {filteredMsgs.map((msg, i) => {\r\n                      const dateLabel = getDateLabel(msg.date);\r\n                      const showDateLabel = dateLabel !== lastDateLabel;\r\n                      lastDateLabel = dateLabel;\r\n\r\n                      const isMe = msg.from.includes(userEmail);\r\n\r\n                      return (\r\n                        <div key={i} style={{ display: 'flex', flexDirection: 'column' }}>\r\n                          {showDateLabel && (\r\n                            <div style={{\r\n                              textAlign: 'center', margin: '15px 0 5px', color: '#666', fontSize: '0.85em', fontWeight: 'bold'\r\n                            }}>\r\n                              ── {dateLabel} ──\r\n                            </div>\r\n                          )}\r\n                          <div className=\"message\" style={{\r\n                            display: 'flex', flexDirection: isMe ? 'row-reverse' : 'row', alignSelf: isMe ? 'flex-end' : 'flex-start',\r\n                            maxWidth: '75%', backgroundColor: isMe ? '#dcf8c6' : '#fff', padding: '10px', borderRadius: '10px',\r\n                            margin: '5px 0', border: isMe ? '1px solid #a2d5a2' : '1px solid #ccc',\r\n                            boxShadow: '0 1px 3px rgba(0,0,0,0.05)', textAlign: isMe ? 'right' : 'left'\r\n                          }}>\r\n                            <div className=\"avatar\" style={{\r\n                              backgroundColor: isMe ? '#4caf50' : '#888', color: '#fff', borderRadius: '50%',\r\n                              width: '36px', height: '36px', display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n                              fontWeight: 'bold', fontSize: '0.9em', margin: isMe ? '0 0 0 10px' : '0 10px 0 0'\r\n                            }}>\r\n                              {isMe ? 'You' : getInitials(msg.from)}\r\n                            </div>\r\n                            <div style={{ flex: 1 }}>\r\n                              <div style={{ fontWeight: 'bold' }}>{isMe ? 'You' : msg.from}</div>\r\n                              <div className=\"email-body\" style={{ marginTop: '6px', marginBottom: '8px' }}\r\n                                dangerouslySetInnerHTML={{ __html: cleanBody(msg.body) }} />\r\n                              <div style={{ fontSize: '0.8em', color: '#888' }}>{new Date(msg.date).toLocaleString()}</div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n\r\n\r\n                  <div style={{ marginTop: '10px' }}>\r\n                    {editor && (\r\n                      <div style={{ marginBottom: '8px', display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\r\n                        <button\r\n                          onClick={() => editor.chain().focus().toggleBold().run()}\r\n                          className={editor.isActive('bold') ? 'active' : ''}\r\n                          title=\"Bold\"\r\n                          aria-label=\"Bold\"\r\n                          style={{ fontWeight: 'bold' }}\r\n                        >\r\n                          B\r\n                        </button>\r\n                        <button onClick={() => editor.chain().focus().toggleItalic().run()} style={{ fontStyle: 'italic' }}>I</button>\r\n                        <button onClick={() => editor.chain().focus().toggleStrike().run()} style={{ textDecoration: 'line-through' }}>S</button>\r\n                        <button onClick={() => editor.chain().focus().setParagraph().run()}>P</button>\r\n                        <button onClick={() => editor.chain().focus().toggleHeading({ level: 1 }).run()}>H1</button>\r\n                        <button onClick={() => editor.chain().focus().toggleHeading({ level: 2 }).run()}>H2</button>\r\n                        <button onClick={() => editor.chain().focus().toggleBulletList().run()}>• List</button>\r\n                        <button onClick={() => editor.chain().focus().toggleOrderedList().run()}>1. List</button>\r\n                        <button onClick={() => editor.chain().focus().undo().run()}>↺ Undo</button>\r\n                        <button onClick={() => editor.chain().focus().redo().run()}>↻ Redo</button>\r\n                      </div>\r\n                    )}\r\n\r\n                    <EditorContent \r\n                      editor={editor} \r\n                      className=\"tiptap-editor\"\r\n                    />\r\n                      {/* Multi Attachment Upload */}\r\n                      <div style={{ margin: '10px 0' }}>\r\n                      <label style={{ fontSize: '0.9em', fontWeight: 'bold' }}>📎 Attach files:\r\n                        <input \r\n                          type=\"file\" \r\n                          multiple\r\n                          onChange={(e) => {\r\n                            const newFiles = Array.from(e.target.files || []);\r\n                            setAttachments(prev => [...prev, ...newFiles]);\r\n                          }} \r\n                          style={{ display: 'block', marginTop: '6px' }} \r\n                        />\r\n                      </label>\r\n                      <div style={{ display: 'flex', flexWrap: 'wrap', marginTop: '10px', gap: '10px' }}>\r\n                        {attachments.map((file, index) => (\r\n                          <div key={index} style={{ border: '1px solid #ccc', borderRadius: '4px', padding: '4px 8px', background: '#f0f0f0' }}>\r\n                            {file.name}\r\n                            <button onClick={() => setAttachments(prev => prev.filter((_, i) => i !== index))} style={{ marginLeft: '8px', color: 'red', background: 'none', border: 'none', cursor: 'pointer' }}>×</button>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div style={{ display: 'flex', gap: '10px', marginTop: '5px' }}>\r\n                      <button\r\n                        onClick={() => sendReply(thread.id, thread.messages[0].from, thread.subject, false)}\r\n                        style={{ padding: '8px 16px', backgroundColor: '#4caf50', color: '#fff', border: 'none', borderRadius: '6px', cursor: 'pointer' }}\r\n                      >\r\n                        Send\r\n                      </button>\r\n                      <button\r\n                        onClick={() => {\r\n                          setPendingReplyMeta({\r\n                            threadId: thread.id,\r\n                            to: thread.messages[0].from,\r\n                            subject: thread.subject,\r\n                          });\r\n                          setShowPreview(true);\r\n                        }}\r\n                        style={{ padding: '8px 16px', backgroundColor: '#2196f3', color: '#fff', border: 'none', borderRadius: '6px', cursor: 'pointer' }}\r\n                      >\r\n                        Preview\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          );\r\n        })\r\n      ) : (\r\n        <p>📨 Loading emails...</p>\r\n      )}\r\n\r\n      {/* {visibleCount < threads.length && (\r\n        <button\r\n          onClick={() => setVisibleCount(prev => prev + 5)}\r\n          style={{ marginTop: '15px', padding: '10px 18px', borderRadius: '8px', backgroundColor: '#4caf50', color: '#fff', border: 'none', cursor: 'pointer' }}\r\n        >\r\n          Load More\r\n        </button>\r\n      )} */}\r\n\r\n      {showPreview && pendingReplyMeta && (\r\n        <div style={{ position: 'fixed', top: 50, left: '10%', width: '80%', backgroundColor: 'white', border: '1px solid #ccc',\r\n          padding: '20px', borderRadius: '10px', zIndex: 1000, boxShadow: '0 4px 8px rgba(0,0,0,0.2)' }}>\r\n          <h3>📨 Preview Your Reply</h3>\r\n          <div dangerouslySetInnerHTML={{ __html: getReplyText() }} style={{ padding: '10px', border: '1px solid #eee' }} />\r\n          <div style={{ marginTop: '10px', textAlign: 'right' }}>\r\n            <button onClick={() => setShowPreview(false)} style={{ marginRight: '10px' }}>Cancel</button>\r\n            <button onClick={() => {\r\n              sendReply(pendingReplyMeta.threadId, pendingReplyMeta.to, pendingReplyMeta.subject, false);\r\n              setShowPreview(false);\r\n              setPendingReplyMeta(null);\r\n            }}>Send</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}